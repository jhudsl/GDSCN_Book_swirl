<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 1 Setup on AnVIL | GDSCN: Intro R with swirl</title>
  <meta name="description" content="This book provides a lab exercise that introduces students to the basics of R programming." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 1 Setup on AnVIL | GDSCN: Intro R with swirl" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book provides a lab exercise that introduces students to the basics of R programming." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 1 Setup on AnVIL | GDSCN: Intro R with swirl" />
  
  <meta name="twitter:description" content="This book provides a lab exercise that introduces students to the basics of R programming." />
  



<meta name="date" content="2022-12-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="assets/GDSCN_style/gdscn_favicon.ico" type="image/x-icon" />
<link rel="prev" href="index.html"/>
<link rel="next" href="r-programming-with-swirl.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="assets/GDSCN_style/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<a href="https://www.gdscn.org/" target="_blank"><img src="assets/GDSCN_style/logo-gdscn.png" style="width: 80%; padding-left: 15px; padding-top: 8px;"</a>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About this Course</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#skills-level"><i class="fa fa-check"></i>Skills Level</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#learning-objectives"><i class="fa fa-check"></i>Learning Objectives</a></li>
</ul></li>
<li class="part"><span><b>Instructor Guide</b></span></li>
<li class="chapter" data-level="1" data-path="setup-on-anvil.html"><a href="setup-on-anvil.html"><i class="fa fa-check"></i><b>1</b> Setup on AnVIL</a>
<ul>
<li class="chapter" data-level="1.1" data-path="setup-on-anvil.html"><a href="setup-on-anvil.html#suggested-timeline"><i class="fa fa-check"></i><b>1.1</b> Suggested Timeline</a></li>
<li class="chapter" data-level="1.2" data-path="setup-on-anvil.html"><a href="setup-on-anvil.html#what-is-anvil"><i class="fa fa-check"></i><b>1.2</b> What is AnVIL?</a></li>
<li class="chapter" data-level="1.3" data-path="setup-on-anvil.html"><a href="setup-on-anvil.html#why-use-anvil-in-your-classroom"><i class="fa fa-check"></i><b>1.3</b> Why use AnVIL in your classroom?</a></li>
<li class="chapter" data-level="1.4" data-path="setup-on-anvil.html"><a href="setup-on-anvil.html#anvil-instructor-guide"><i class="fa fa-check"></i><b>1.4</b> AnVIL Instructor guide</a></li>
<li class="chapter" data-level="1.5" data-path="setup-on-anvil.html"><a href="setup-on-anvil.html#class-setup"><i class="fa fa-check"></i><b>1.5</b> Class Setup</a></li>
<li class="chapter" data-level="1.6" data-path="setup-on-anvil.html"><a href="setup-on-anvil.html#workspace"><i class="fa fa-check"></i><b>1.6</b> Workspace</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="setup-on-anvil.html"><a href="setup-on-anvil.html#option-1-instructor-clones"><i class="fa fa-check"></i><b>1.6.1</b> Option 1: Instructor clones</a></li>
<li class="chapter" data-level="1.6.2" data-path="setup-on-anvil.html"><a href="setup-on-anvil.html#option-2-students-clone"><i class="fa fa-check"></i><b>1.6.2</b> Option 2: Students clone</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Setup</b></span></li>
<li class="part"><span><b>II Introduction</b></span></li>
<li class="part"><span><b>III Lab Exercises</b></span></li>
<li class="chapter" data-level="2" data-path="r-programming-with-swirl.html"><a href="r-programming-with-swirl.html"><i class="fa fa-check"></i><b>2</b> R Programming with <code>swirl</code></a>
<ul>
<li class="chapter" data-level="2.1" data-path="r-programming-with-swirl.html"><a href="r-programming-with-swirl.html#complete-your-first-swirl-lesson"><i class="fa fa-check"></i><b>2.1</b> Complete your first <code>swirl</code> lesson</a></li>
<li class="chapter" data-level="2.2" data-path="r-programming-with-swirl.html"><a href="r-programming-with-swirl.html#complete-additional-swirl-lessons"><i class="fa fa-check"></i><b>2.2</b> Complete additional <code>swirl</code> lessons</a></li>
</ul></li>
<li class="part"><span><b>IV Project: Explore Dataframe</b></span></li>
<li class="chapter" data-level="3" data-path="explore-us_contagious_diseases-dataframe.html"><a href="explore-us_contagious_diseases-dataframe.html"><i class="fa fa-check"></i><b>3</b> Explore <code>us_contagious_diseases</code> dataframe</a>
<ul>
<li class="chapter" data-level="3.1" data-path="explore-us_contagious_diseases-dataframe.html"><a href="explore-us_contagious_diseases-dataframe.html#r-tips"><i class="fa fa-check"></i><b>3.1</b> R tips</a></li>
<li class="chapter" data-level="3.2" data-path="explore-us_contagious_diseases-dataframe.html"><a href="explore-us_contagious_diseases-dataframe.html#explore-dataframe"><i class="fa fa-check"></i><b>3.2</b> Explore dataframe</a></li>
</ul></li>
<li class="part"><span><b>V Wrap-up</b></span></li>
<li class="chapter" data-level="4" data-path="wrap-up-on-anvil.html"><a href="wrap-up-on-anvil.html"><i class="fa fa-check"></i><b>4</b> Wrap-up on AnVIL</a>
<ul>
<li class="chapter" data-level="4.1" data-path="wrap-up-on-anvil.html"><a href="wrap-up-on-anvil.html#pause-rstudio-environment"><i class="fa fa-check"></i><b>4.1</b> Pause RStudio environment</a></li>
<li class="chapter" data-level="4.2" data-path="wrap-up-on-anvil.html"><a href="wrap-up-on-anvil.html#delete-rstudio-environment"><i class="fa fa-check"></i><b>4.2</b> Delete RStudio environment</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="" data-path="about-the-authors.html"><a href="about-the-authors.html"><i class="fa fa-check"></i>About the Authors</a></li>
<li class="chapter" data-level="A" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>A</b> References</a></li>
<li class="divider"></li>
<p style="text-align:center;"> <a href="https://github.com/jhudsl/OTTR_Template" target="blank" > This content was published with</a> <a href="https://bookdown.org/" target="blank"> bookdown by: </a> </p>
<p style="text-align:center;"> <a href="http://jhudatascience.org/"> The Johns Hopkins Data Science Lab </a></p>
<a href="http://jhudatascience.org/"><img src="https://jhudatascience.org/images/dasl.png" style=" width: 80%; padding-left: 40px; padding-top: 8px; vertical-align: top "</a>
<p style="text-align:center; font-size: 12px;"> <a href="https://github.com/rstudio4edu/rstudio4edu-book/"> Style adapted from: rstudio4edu-book </a> <a href ="https://creativecommons.org/licenses/by/2.0/"> (CC-BY 2.0) </a></p>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">GDSCN: Intro R with swirl</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<head>
  <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=10.0,initial-scale=1.0">
  <!--script src="https://kit.fontawesome.com/6a26f47516.js"></script-->
  <!--<script src="assets/hideOutput.js"></script>-->
  <link href="assets/GDSCN_style/style.css" rel="stylesheet">
</head>



<div class="hero-image-container">
  <img class= "hero-image" src="assets/GDSCN_style/dasl_thin_main_image.png">
</div>
<div id="setup-on-anvil" class="section level1" number="1">
<h1><span class="header-section-number">Chapter 1</span> Setup on AnVIL</h1>
<div id="suggested-timeline" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> Suggested Timeline</h2>
<table>
<tbody>
<tr>
<td style="text-align:left;">
<strong>2+ weeks before</strong>
</td>
<td style="text-align:left;">
<ol style="list-style-type: decimal">
<li><strong>Set up billing</strong></li>
<li><strong>Request Quota Increase</strong> so that you have permission to create enough Workspaces for your whole class</li>
<li><strong>Notify Terra</strong> of the date(s) of your class, so they can ensure AnVIL is not down for maintenance.</li>
<li><strong>Add TAs and coinstructors</strong></li>
<li><strong>Run through material</strong> - make sure you’re able to
<ul>
<li>Clone the Workspace</li>
<li>Start up RStudio, load swirl, and start the first lesson</li>
<li>Load the dataset for the project</li>
<li>Use <code>dplyr</code> commands, such as <code>dplyr::filter()</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>~1 week before</strong>
</td>
<td style="text-align:left;">
<ol style="list-style-type: decimal">
<li><strong>Collect student usernames</strong></li>
</ol></li>
</ul></li>
<li><strong>Add students to class group</strong>
</td>
</tr>
</tbody>
</table></li>
</ol>
</div>
<div id="what-is-anvil" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> What is AnVIL?</h2>
<p>The <a href="https://anvilproject.org/">AnVIL (Analysis Visualization and Informatics Lab-space) platform</a> is a cloud computing platform specially designed for analyzing biological data, and is used by scientists doing all sorts of biological research.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/7qvQ8DZHC9w" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<div class="notice">
<p><strong>AnVIL in a nutshell</strong></p>
<ul>
<li>Behind the scenes, AnVIL relies on Google Cloud Platform to provide computing infrastructure. Basically, AnVIL lets you “rent” computers from Google (remotely). Whenever you run an analyses on AnVIL, it actually runs on one of Google’s computers, and AnVIL lets you see the results in your browser.</li>
<li>AnVIL uses <a href="https://anvil.terra.bio/">Terra</a> to provide many computational tools useful for biological data analysis, such as <a href="https://www.rstudio.com/products/rstudio/">RStudio</a>, <a href="https://usegalaxy.org/">Galaxy</a>, and <a href="https://jupyter.org/">Jupyter Notebooks</a>. Terra takes care of installing these tools on Google’s computers, so that you can just start using them.</li>
<li>AnVIL and Terra provide their services for free (managing software, data, and users). You just need to pay Google for the computational resources that you use.</li>
</ul>
</div>
</div>
<div id="why-use-anvil-in-your-classroom" class="section level2" number="1.3">
<h2><span class="header-section-number">1.3</span> Why use AnVIL in your classroom?</h2>
</div>
<div id="anvil-instructor-guide" class="section level2" number="1.4">
<h2><span class="header-section-number">1.4</span> AnVIL Instructor guide</h2>
<p>If this is your first time using AnVIL (or first time using it for a course), we recommend checking out the <a href="https://jhudatascience.org/AnVIL_Book_Instructor_Guide">AnVIL Instructor Guide</a>. Several of the instructions below link out to the Instructor Guide for details.</p>
</div>
<div id="class-setup" class="section level2" number="1.5">
<h2><span class="header-section-number">1.5</span> Class Setup</h2>
<div class="notice">
<p><strong>Tip</strong>: It’s helpful to have your students sign into AnVIL and provide you with their username ahead of time, so that you can grant permissions to them before the class begins.</p>
</div>
<p>In order for your students to be able to compute on AnVIL, you must first:</p>
<ol style="list-style-type: decimal">
<li><strong>Set up Billing</strong> to fund your students’ activities.
<ol style="list-style-type: lower-alpha">
<li><a href="https://jhudatascience.org/AnVIL_Book_Instructor_Guide/creating-an-instructor-account.html">Set up a Google Account</a> - You need a Google account to access AnVIL</li>
<li>(Some users) <a href="">Set up Google Billing Account</a> - This is how Google charges you for your students’ activities.
<ul>
<li>Depending on how you are being funded, this may be taken care of for you. If your funding is being managed by a third party (e.g. through a funding mechanism such as <a href="https://datascience.nih.gov/strides">STRIDES</a>, or through your institution), contact them to determine whether you need to do any billing administration through Google.</li>
</ul></li>
<li><a href="">Create Terra Billing Project(s)</a> - This is how you manage students and give them permission to compute on AnVIL.</li>
</ol></li>
<li><strong>Collect usernames</strong>: You will need to know the usernames that your students will be using to access AnVIL.</li>
<li><strong>Set up Groups</strong>: <a href="">Creating Terra “Groups”</a> makes it much easier manage your students and TAs/co-instructors on AnVIL.</li>
</ol>
</div>
<div id="workspace" class="section level2" number="1.6">
<h2><span class="header-section-number">1.6</span> Workspace</h2>
<p>On AnVIL, all computing is done within “Workspaces”.</p>
<p>To make things easy for you and your students, we have created an AnVIL Workspace that contains all the files necessary for this exercise, which can be accessed at the following link:</p>
<p>This is a public AnVIL Workspace, which is similar to “view only” mode for a document - you and your students can view it freely, but you will need to “clone” your own copy of it in order to do your own work (i.e. start up RStudio, Galaxy, or Jupyter Notebooks, or run a Workflow).</p>
<p>There are two ways you can organize your class and give students access to the material:</p>
<div id="option-1-instructor-clones" class="section level3" number="1.6.1">
<h3><span class="header-section-number">1.6.1</span> Option 1: Instructor clones</h3>
<p><strong>Instructor creates a single clone of the Workspace, and shares it with the whole class.</strong></p>
<p>This is simpler, particularly if you are new to AnVIL, but has some disadvantages:</p>
<pre><code>- With this setup, it is impossible to tell which students are running up compute costs - expenses are only reported for the class as a whole.
- Students will each get their own cloud environment (i.e. their own RStudio session), and some temporary storage space to go with it.  But they will all share the same permanent storage, so if they need to save files, they may end up overwriting each others&#39; files.</code></pre>
</div>
<div id="option-2-students-clone" class="section level3" number="1.6.2">
<h3><span class="header-section-number">1.6.2</span> Option 2: Students clone</h3>
<p><strong>Each student creates their own copy of the Workspace</strong></p>
<p>This is a bit more work up to set up, but is generally preferable for longer-term (i.e. multi-session) courses, especially if your students will need to save or share files.</p>
<pre><code>- Costs will be reported per student (i.e. per Workspace)
- Students will have their own permanent storage, and can&#39;t overwrite each other&#39;s files.
    - This is essential for any activities in which they need to save and share a file, either to collaborate with peers or to submit for a grade.
    - This is also necessary if they will be passing files between different cloud environments (e.g. creating a file in Galaxy, then analyzing it in RStudio).
- This setup gives students more power (they are able to create additional Workspaces and invite others to use them, charging to your Billing Account).  But it provides transparency about *who* is carrying out activities, enabling you to address any problems with individual students.</code></pre>
<div class="warning">
<p>If you are new to AnVIL, you will need to request a “Project Quota Increase”. In order to prevent abuse, Google has limits that restrict the number of Workspaces that can be created by new accounts (as of Dec 2022, new users are limited to 5 Workspaces).</p>
</div>

</div>
</div>
</div>






</div>



</div>
<hr>
<center> 
  <div class="footer">
      All illustrations <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY. </a>
      <br>
      All other materials <a href= "https://creativecommons.org/licenses/by/4.0/"> CC-BY </a> unless noted otherwise.
  </div>
</center>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="r-programming-with-swirl.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
